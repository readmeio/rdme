#! /usr/bin/env node
const chalk = require('chalk');

require('../src')(process.argv.slice(2))
  .then(msg => {
    if (msg) console.log(msg);
    process.exit(0);
  })
  .catch(e => {
    if (e) {
      const err = e;

      if ('message' in err) {
        console.error(chalk.red(`\n${err.message}\n`));
      } else {
        console.error(
          chalk.red(
            `Yikes, something went wrong! Please try again and if the problem persists, get in touch with our support team at ${chalk.underline(
              'support@readme.io'
            )}.\n`
          )
        );
      }
    }

    return process.exit(1);
  });
